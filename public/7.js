(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{42:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{DeleteModal:"",EditModal:!1,leases:"",commnet:"",edit:"",interval:null,editResponse:"",leaseId:""}},mounted:function(){this.loadDataLeases(),this.interval=setInterval(function(){this.loadDataLeases()}.bind(this),1e3)},methods:{loadDataLeases:function(){var t=this;axios.get("api/device/leases").then((function(e){t.leases=e.data})).catch((function(e){t.globalError=e,t.leases="",t.interval=!1}))},EditCommentModal:function(){var t=this;axios.post("/api/device/lease/getEditData",{leaseId:this.leaseId}).then((function(e){t.edit=e.data,t.EditModal=!0})).catch((function(e){t.leaseId="",t.EditModal=!1}))},RemoteLeaseModal:function(){var t=this;axios.post("/api/device/lease/remove",{leaseId:this.leaseId}).then((function(e){t.editResponse=e.data,t.EditModal=!1})).catch((function(e){t.leaseId="",t.EditModal=!1}))},EditComment:function(){var t=this;axios.post("/api/device/lease/edit",{leaseId:this.leaseId,commnet:this.commnet}).then((function(e){t.editResponse=e.data,t.EditModal=!1})).catch((function(e){t.leaseId="",t.commnet="",t.EditModal=!1}))}},created:function(){var t=this;axios.get("api/device/leases").then((function(e){return t.leases=e.data}))},beforeDestroy:function(){clearInterval(this.interval)}},i=s(0),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container is-fluid"},[s("router-view"),t._v(" "),s("table",{staticClass:"table table-sm table-hover"},[t._m(0),t._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("tbody",t._l(t.leases,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"mobileFont"},[t._v(t._s(e.address))]),t._v(" "),s("td",{staticClass:"hide_isMobile"},[t._v(t._s(e["mac-address"]))]),t._v(" "),s("td",{staticClass:"mobileFont"},[t._v(t._s(e.vendor))]),t._v(" "),s("td",{staticClass:"mobileFont"},[t._v(t._s(e.comment))]),t._v(" "),s("td",{staticClass:"hide_isMobile"},[t._v(t._s(e["last-seen"]))]),t._v(" "),s("td",{staticClass:"mobileFont"},[t._v(t._s(e.status))]),t._v(" "),s("td",[s("form",{staticClass:"inline_block",on:{submit:function(s){return s.preventDefault(),t.EditCommentModal(t.leaseId=e.address)}}},[s("button",{staticClass:"btn btn-sm",attrs:{type:"submit"},on:{click:function(e){t.EditModal=!0}}},[s("span",{staticClass:"icon has-text-info"},[s("i",{staticClass:"fas fa-edit"})])])]),t._v(" "),s("form",{directives:[{name:"show",rawName:"v-show",value:"waiting"===e.status,expression:"lease.status === 'waiting'"}],staticClass:"inline_block",on:{submit:function(s){return s.preventDefault(),t.RemoteLeaseModal(t.leaseId=e.address)}}},[s("button",{staticClass:"btn btn-sm",attrs:{type:"submit"}},[s("span",{staticClass:"icon has-text-danger"},[s("i",{staticClass:"fas fa-trash"})])])])])])})),0)])],1)],1),t._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.EditModal,expression:"EditModal"}]},[s("div",{staticClass:"modal is-active"},[s("div",{staticClass:"modal-background",on:{click:function(e){t.EditModal=!1}}}),t._v(" "),s("div",{attrs:{id:"modal_grey_m"}},t._l(t.edit,(function(e){return s("div",{key:e.id,staticClass:"container rounded",attrs:{id:"modal_grey_m"}},[s("br"),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.EditComment()}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"textColor_default"},[t._v("Změnit popis")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.commnet=e.comment,expression:"commnet = leaseEdit.comment"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.commnet=e.comment},on:{input:function(s){s.target.composing||t.$set(t.commnet=e,"comment",s.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.EditModal=!1}}},[t._v("Změnit")])]),t._v(" "),s("br")])})),0)])])])],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"mobileFont",attrs:{scope:"col"}},[t._v("IP")]),t._v(" "),s("th",{staticClass:"hide_isMobile",attrs:{scope:"col"}},[t._v("MAC")]),t._v(" "),s("th",{staticClass:"mobileFont",attrs:{scope:"col"}},[t._v("Výrobce")]),t._v(" "),s("th",{staticClass:"mobileFont",attrs:{scope:"col"}},[t._v("Popis")]),t._v(" "),s("th",{staticClass:"hide_isMobile",attrs:{scope:"col"}},[t._v("Naposledy viděn")]),t._v(" "),s("th",{staticClass:"mobileFont",attrs:{scope:"col"}},[t._v("status")]),t._v(" "),s("th",{staticClass:"mobileFont",attrs:{scope:"col"}},[t._v("Akce")])])])}],!1,null,null,null);e.default=o.exports}}]);